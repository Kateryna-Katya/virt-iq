{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["/**\n * VIRT-IQ.ORG Core Script\n * Includes: Navigation, Animations, Form Logic, Captcha, Cookies\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    // 1. Инициализация иконок Lucide\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // 2. Инициализация AOS (анимация при скролле)\n    if (typeof AOS !== 'undefined') {\n        AOS.init({\n            duration: 1000,\n            easing: 'ease-out-expo',\n            once: true,\n            offset: 100\n        });\n    }\n\n    // 3. Управление хедером при скролле\n    const header = document.getElementById('header');\n    const handleScroll = () => {\n        if (window.scrollY > 50) {\n            header.classList.add('header--scrolled');\n        } else {\n            header.classList.remove('header--scrolled');\n        }\n    };\n    window.addEventListener('scroll', handleScroll);\n\n    // 4. Мобильное меню (Бургер)\n    const burger = document.getElementById('burger-menu');\n    const overlay = document.getElementById('mobile-overlay');\n    const navLinks = document.querySelectorAll('.mobile-nav a');\n\n    const toggleMenu = () => {\n        const isActive = burger.classList.toggle('burger--active');\n        overlay.style.display = isActive ? 'flex' : 'none';\n        document.body.style.overflow = isActive ? 'hidden' : 'initial';\n        \n        if (isActive) {\n            gsap.from(\".mobile-nav li\", {\n                opacity: 0,\n                y: 20,\n                stagger: 0.1,\n                duration: 0.4,\n                ease: \"power2.out\"\n            });\n        }\n    };\n\n    if (burger) {\n        burger.addEventListener('click', toggleMenu);\n    }\n\n    navLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            if (burger.classList.contains('burger--active')) toggleMenu();\n        });\n    });\n\n    // 5. GSAP Hero Text Animation\n    if (typeof gsap !== 'undefined') {\n        gsap.to(\"#hero-title\", {\n            opacity: 1,\n            y: 0,\n            duration: 1.5,\n            ease: \"expo.out\",\n            delay: 0.3\n        });\n    }\n\n    // 6. Математическая капча\n    const captchaLabel = document.getElementById('captcha-label');\n    const captchaInput = document.getElementById('captcha-input');\n    let captchaResult = 0;\n\n    const generateCaptcha = () => {\n        const n1 = Math.floor(Math.random() * 10) + 1;\n        const n2 = Math.floor(Math.random() * 10) + 1;\n        captchaResult = n1 + n2;\n        if (captchaLabel) captchaLabel.innerText = `Подтвердите, что вы не робот: ${n1} + ${n2} = ?`;\n    };\n    generateCaptcha();\n\n    // 7. Валидация и отправка формы (AJAX имитация)\n    const contactForm = document.getElementById('main-form');\n    const formStatus = document.getElementById('form-status');\n\n    if (contactForm) {\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n            \n            // Проверка капчи\n            if (parseInt(captchaInput.value) !== captchaResult) {\n                formStatus.innerText = \"Ошибка капчи. Попробуйте еще раз.\";\n                formStatus.className = \"form__status error\";\n                generateCaptcha();\n                captchaInput.value = '';\n                return;\n            }\n\n            // Имитация отправки\n            const submitBtn = contactForm.querySelector('button[type=\"submit\"]');\n            submitBtn.disabled = true;\n            submitBtn.innerText = \"Отправка...\";\n            \n            setTimeout(() => {\n                formStatus.innerText = \"Успешно! Ваша заявка принята. Мы свяжемся с вами.\";\n                formStatus.className = \"form__status success\";\n                contactForm.reset();\n                submitBtn.disabled = false;\n                submitBtn.innerText = \"Отправить запрос\";\n                generateCaptcha();\n            }, 2000);\n        });\n    }\n\n    // 8. Cookie Popup\n    const cookiePopup = document.getElementById('cookie-popup');\n    const cookieAccept = document.getElementById('cookie-accept');\n\n    if (cookiePopup && !localStorage.getItem('virtiq_cookies')) {\n        setTimeout(() => {\n            cookiePopup.style.display = 'block';\n            gsap.from(cookiePopup, { y: 100, opacity: 0, duration: 0.6 });\n        }, 3000);\n    }\n\n    if (cookieAccept) {\n        cookieAccept.addEventListener('click', () => {\n            localStorage.setItem('virtiq_cookies', 'true');\n            cookiePopup.style.display = 'none';\n        });\n    }\n});"],"names":["header","handleScroll","burger","overlay","navLinks","toggleMenu","isActive","link","captchaLabel","captchaInput","captchaResult","generateCaptcha","n1","n2","contactForm","formStatus","e","submitBtn","cookiePopup","cookieAccept"],"mappings":"0uBAKA,SAAS,iBAAiB,mBAAoB,IAAM,CAE5C,OAAO,OAAW,KAClB,OAAO,YAAa,EAIpB,OAAO,IAAQ,KACf,IAAI,KAAK,CACL,SAAU,IACV,OAAQ,gBACR,KAAM,GACN,OAAQ,GACpB,CAAS,EAIL,MAAMA,EAAS,SAAS,eAAe,QAAQ,EACzCC,EAAe,IAAM,CACnB,OAAO,QAAU,GACjBD,EAAO,UAAU,IAAI,kBAAkB,EAEvCA,EAAO,UAAU,OAAO,kBAAkB,CAEjD,EACD,OAAO,iBAAiB,SAAUC,CAAY,EAG9C,MAAMC,EAAS,SAAS,eAAe,aAAa,EAC9CC,EAAU,SAAS,eAAe,gBAAgB,EAClDC,EAAW,SAAS,iBAAiB,eAAe,EAEpDC,EAAa,IAAM,CACrB,MAAMC,EAAWJ,EAAO,UAAU,OAAO,gBAAgB,EACzDC,EAAQ,MAAM,QAAUG,EAAW,OAAS,OAC5C,SAAS,KAAK,MAAM,SAAWA,EAAW,SAAW,UAEjDA,GACA,KAAK,KAAK,iBAAkB,CACxB,QAAS,EACT,EAAG,GACH,QAAS,GACT,SAAU,GACV,KAAM,YACtB,CAAa,CAER,EAEGJ,GACAA,EAAO,iBAAiB,QAASG,CAAU,EAG/CD,EAAS,QAAQG,GAAQ,CACrBA,EAAK,iBAAiB,QAAS,IAAM,CAC7BL,EAAO,UAAU,SAAS,gBAAgB,GAAGG,EAAY,CACzE,CAAS,CACT,CAAK,EAGG,OAAO,KAAS,KAChB,KAAK,GAAG,cAAe,CACnB,QAAS,EACT,EAAG,EACH,SAAU,IACV,KAAM,WACN,MAAO,EACnB,CAAS,EAIL,MAAMG,EAAe,SAAS,eAAe,eAAe,EACtDC,EAAe,SAAS,eAAe,eAAe,EAC5D,IAAIC,EAAgB,EAEpB,MAAMC,EAAkB,IAAM,CAC1B,MAAMC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAAI,EACtCC,EAAK,KAAK,MAAM,KAAK,OAAQ,EAAG,EAAE,EAAI,EAC5CH,EAAgBE,EAAKC,EACjBL,IAAcA,EAAa,UAAY,iCAAiCI,CAAE,MAAMC,CAAE,OACzF,EACDF,EAAiB,EAGjB,MAAMG,EAAc,SAAS,eAAe,WAAW,EACjDC,EAAa,SAAS,eAAe,aAAa,EAEpDD,GACAA,EAAY,iBAAiB,SAAWE,GAAM,CAI1C,GAHAA,EAAE,eAAgB,EAGd,SAASP,EAAa,KAAK,IAAMC,EAAe,CAChDK,EAAW,UAAY,oCACvBA,EAAW,UAAY,qBACvBJ,EAAiB,EACjBF,EAAa,MAAQ,GACrB,MAChB,CAGY,MAAMQ,EAAYH,EAAY,cAAc,uBAAuB,EACnEG,EAAU,SAAW,GACrBA,EAAU,UAAY,cAEtB,WAAW,IAAM,CACbF,EAAW,UAAY,oDACvBA,EAAW,UAAY,uBACvBD,EAAY,MAAO,EACnBG,EAAU,SAAW,GACrBA,EAAU,UAAY,mBACtBN,EAAiB,CACpB,EAAE,GAAI,CACnB,CAAS,EAIL,MAAMO,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAe,SAAS,eAAe,eAAe,EAExDD,GAAe,CAAC,aAAa,QAAQ,gBAAgB,GACrD,WAAW,IAAM,CACbA,EAAY,MAAM,QAAU,QAC5B,KAAK,KAAKA,EAAa,CAAE,EAAG,IAAK,QAAS,EAAG,SAAU,GAAK,CAC/D,EAAE,GAAI,EAGPC,GACAA,EAAa,iBAAiB,QAAS,IAAM,CACzC,aAAa,QAAQ,iBAAkB,MAAM,EAC7CD,EAAY,MAAM,QAAU,MACxC,CAAS,CAET,CAAC"}